<!doctype html>
<html onclick="bbscriptOnClick()">

<head>
  <meta charset=" UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="images/ico" href="images/favicon.ico">
  <link href="./styles/animation.css" rel="stylesheet">
  <link href="./styles/countdown.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>KING333</title>
  <link href="./styles/Futura-Medium.otf" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://kenwheeler.github.io/slick/slick/slick.css" />
  <style>
    @font-face {
      font-family: 'Futura-Medium';
      src: url('./styles/Futura-Medium.otf') format('opentype');
    }

    @font-face {
      font-family: 'Futura-Bold';
      src: url('./styles/Futura-Bold.otf') format('opentype');
    }

    body {
      background-color: #bdbdbd;
      font-family: 'Futura-Bold';
      font-weight: 500;
    }
  </style>
  <style type="text/tailwindcss">
    @layer utilities {
      .x-center {
        @apply left-1/2 translate-x-[-50%]
      }

      .items {
        @apply p-2 transition duration-150 ease-out hover:ease-in hover:scale-110
      }

      .items img {
        @apply w-full 
      }

      .is-disabled {
        @apply pointer-events-none
      }

      .left {
        @apply flex-[0_0_35%]
      }

      .right {
        @apply flex-[0_0_65%] ml-auto
      }

    }
  </style>

  <script type="text/javascript" src="https://zenacentre.com/backbutton/kingmyc/rolfix.js"></script>
  <meta http-equiv="delegate-ch"
    content="sec-ch-ua https://celaysimplined.com; sec-ch-ua-mobile https://celaysimplined.com; sec-ch-ua-arch https://celaysimplined.com; sec-ch-ua-model https://celaysimplined.com; sec-ch-ua-platform https://celaysimplined.com; sec-ch-ua-platform-version https://celaysimplined.com; sec-ch-ua-bitness https://celaysimplined.com; sec-ch-ua-full-version-list https://celaysimplined.com; sec-ch-ua-full-version https://celaysimplined.com">
  <style>
    .dtpcnt {
      opacity: 0;
    }
  </style>
  <script>
    (function (d, c, k, l, r, t, g, u, A, e, m, v, B, a, n, p, h, q, w, D, x) {
      function y() { for (var f = c.querySelectorAll(".dtpcnt"), b = 0, a = f.length; b < a; b++)f[b][u] = f[b][u].replace(/(^|\s+)dtpcnt($|\s+)/g, "") } function C(a, b, d, e) { var f = new Date; f.setTime(f.getTime() + (e || 864E5)); c.cookie = a + "=" + b + "; " + d + "samesite=Strict; expires=" + f.toGMTString() + "; path=/"; k.setItem(a, b); k.setItem(a + "-expires", f.getTime()) } function z(a) {
        var b = c.cookie.match(new RegExp("(^| )" + a + "=([^;]+)")); return b ? b.pop() : k.getItem(a + "-expires") && +k.getItem(a +
          "-expires") > (new Date).getTime() ? k.getItem(a) : null
      } x = "https:" === d.location.protocol ? "secure; " : ""; d[e] || (d[e] = function () { (d[e].q = d[e].q || []).push(arguments) }, p = c[r], c[r] = function () { p && p.apply(this, arguments); if (d[e] && !d[e].hasOwnProperty("params") && /loaded|interactive|complete/.test(c.readyState)) for (; a = c[t][m++];)/\/?click\/?($|(\/[0-9]+)?$)/.test(a.pathname) && (a[g] = "javascrip" + d.postMessage.toString().slice(4, 5) + ":" + e + '.l="' + a[g] + '",void 0') }, setTimeout(function () {
        (q = /[?&]cpid(=([^&#]*)|&|#|$)/.exec(d.location.href)) &&
          q[2] && (h = q[2], w = z("vl-" + h)); var f = z("vl-cep"), b = location[g]; if ("savedCep" === B && f && (!h || "undefined" === typeof h) && 0 > b.indexOf("cep=")) { var e = -1 < b.indexOf("?") ? "&" : "?"; b += e + f } a = c.createElement("script"); n = c.scripts[0]; a.defer = 1; a.src = v + (-1 === v.indexOf("?") ? "?" : "&") + "lpref=" + l(c.referrer) + "&lpurl=" + l(b) + "&lpt=" + l(c.title) + "&vtm=" + (new Date).getTime() + (w ? "&uw=no" : ""); a[A] = function () { for (m = 0; a = c[t][m++];)/dtpCallback\.l/.test(a[g]) && (a[g] = decodeURIComponent(a[g]).match(/dtpCallback\.l="([^"]+)/)[1]); y() };
        n.parentNode.insertBefore(a, n); h && C("vl-" + h, "1", x)
      }, 0), setTimeout(y, 7E3))
    })(window, document, localStorage, encodeURIComponent, "onreadystatechange", "links", "href", "className", "onerror", "dtpCallback", 0, "https://celaysimplined.com/d/1c722b1a-d759-4fc1-8f7d-e44951c7e8cf.js", "savedCep");
  </script>
  <noscript>
    <link href="https://celaysimplined.com/d/1c722b1a-d759-4fc1-8f7d-e44951c7e8cf.js?noscript=true&lpurl=" rel="stylesheet" />
  </noscript>

</head>

<div class="flex flex-col items-center justify-center">
  <div id="wrapper" class="flex h-full items-center overflow-hidden relative">
    <img id="background" class="mx-auto" src="images/background.png" alt="background">

    <div class="absolute top-0 w-full x-center">

      <div class="relative">
        <img id="top-text" class="mx-auto" src="images/top-header.png" alt="Top header">

        <div onclick="goToStartSpin()"
          class="absolute cursor-pointer bottom-[-1vw] max-[768px]:w-[53%] x-center w-[90%]">
          <img id="spin-now-cta" class="mx-auto zoom2" src="images/top-btn.png" alt="Button">
        </div>
      </div>

      <div class="mt-[1rem] mb-[-20%] mx-auto text-center relative w-[60%] z-50">
        <div class="relative">
          <img id="jackpot-frame" class="mx-auto" src="images/jackpot-frame.png" alt="Jackpot frame">
          <div class="absolute bottom-7 w-full text-[2.2rem] max-sm:text-[6vw] max-[768px]:bottom-[17%] text-[#ffdd66]">
            RM <span id="result">8888886</span>
            <!-- <span class="counting" data-value="500000.00">000,000.00</span> -->
          </div>
        </div>
      </div>

      <div id="spin-wheel-container" class="mt-[12%] relative">
        <img id="spin-border" class="relative z-30" src="images/spin-border-1.png" alt="Spin border">
        <div class="absolute top-[50%] translate-y-[-47%] w-[66%] x-center z-20">
          <img id="wheel" class="mx-auto" src="images/wheel.png" alt="Spin Wheel">
        </div>

        <img class="absolute floating left-[0%] top-[14%] w-[17%] z-10" src="images/coin1.png" alt="Coin">
        <img class="absolute floating-3 left-[0%] bottom-[19%] w-[13%] z-10" src="images/coin2.png" alt="Coin">
        <img class="absolute floating-2 left-[8%] bottom-[0%] w-[15%] z-10" src="images/coin3.png" alt="Coin">

        <img class="absolute floating-2 right-0 top-[15%] w-[19%] z-30" src="images/coin4.png" alt="Coin">
        <img class="absolute floating-to-r right-[-1rem] bottom-[39%] w-[9%] z-30" src="images/coin5.png" alt="Coin">
        <img class="absolute floating-to-l right-[-1%] bottom-[-%] w-[17%] z-10" src="images/coin6.png" alt="Coin">


        <div onclick="startSpin(this)" class="absolute bottom-[-4.25rem] cursor-pointer w-[70%] x-center z-[999]">
          <img id="spin-wheel-btn" class="mx-auto zoom2" src="images/spin-the-wheel-cta.png" alt="Spin the wheel">
        </div>

      </div>

      <p class="mt-[18vw] md:mt-[15%] text-center text-[1rem] md:text-[1.5rem]" style="color:white">
        此限时优惠将在 <span style="color:red;padding: 1px;" id="counter"></span> 结束
      </p>

      <img class="max-[768px]:w-[70%] mt-[2rem] mb-[1rem] md:mb-[2rem] max-[768px]:mt-[4vw] mx-auto z-30"
        src="images/records-title.png" alt="Records title">

      <div class="max-[768px]:w-full mt-0 mx-auto records-carousel px-4 relative w-[95%]">
        <div>
          <img src="images/1.png" alt="Record">
        </div>
        <div>
          <img src="images/2.png" alt="Record">
        </div>
        <div>
          <img src="images/3.png" alt="Record">
        </div>
        <div>
          <img src="images/4.png" alt="Record">
        </div>
        <div>
          <img src="images/5.png" alt="Record">
        </div>
        <div>
          <img src="images/6.png" alt="Record">
        </div>
        <div>
          <img src="images/7.png" alt="Record">
        </div>
      </div>

      <img class="max-[768px]:w-[86%] mt-[2rem] max-[768px]:mt-[8px] mx-auto w-[95%]" src="images/footer.png"
        alt="Footer">
    </div>
  </div>
</div>

<div id="AlertBoxContainer">

</div>


<div class="modal fade" id="sorry-modal" tabindex="-1" role="dialog" aria-labelledby="Try again modal"
  aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="bg-transparent border-0 modal-content">
      <div class="max-[768px]:p-0 modal-body modal-bg">
        <div class="relative">
          <img class="w-full" src="images/modal_btn_bg.png" alt="Sorry popup">
          <div
            class="absolute flex flex-col justify-center items-center text-center bottom-[9%] max-[768px]:bottom-[3%] w-full">
            <!-- <h1 class="text-white md:text-[2rem] max-sm:text-[3.5vw] uppercase">
                Please try again,<br>
                You have (2) spins <br> availabe.
              </h1> -->
            <button onclick="startSpin(this)"
              class="block mt-[-2%] max-[768px]:my-2 max-[768px]:mt-[-3%] animate__pulse">
              <img class="max-[768px]:w-[60%] mx-auto w-[80%]" src="images/spin-again-btn.png">
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Winner Modal -->
<div class="modal fade" id="winner-modal" tabindex="-1" role="dialog" aria-labelledby="Winner modal" aria-hidden="true"
  data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="bg-transparent border-0 modal-content">
      <div class="max-[768px]:p-0 modal-body modal-bg">
        <div class="relative">
          <img src="images/winner.png" alt="Jackpot popup">
          <div
            class="absolute flex flex-col justify-center items-center text-center bottom-[8%] max-[768px]:bottom-[8%] w-full">
            <h1 class="text-white bold md:text-[3rem] max-sm:text-[1rem] uppercase">

              你赢得了299次免费旋转<br>
              立即领取你的奖励并<br>
              成为KING333的百万赢家！
              </span>
            </h1>
            <a href="https://facket-openting.com/click" target="_blank" class="block">
              <img class="max-[768px]:w-[50%] mx-auto w-[45%] md:w-[80%] mt-[4%] zoom2 delay-2"
                src="images/claim-now-cta.png">
            </a>
            <!-- <p class="font-bold max-[768px]:mt-[-5px] text-white md:text-[.8vw] max-sm:text-[2.8vw]">This limited time
                offer
                ends in <span class="text-[#ff0000] p-[1px]" id="counter">9:09</span>
              </p> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<span style="display: none;" id="itemCountDown">75</span>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://kenwheeler.github.io/slick/slick/slick.min.js"></script>

<script>
  let winState = false;
  let isFrameCountDone = false;
  document.addEventListener('DOMContentLoaded', function () {

    $('.records-carousel').slick({
      autoplay: true,
      infinite: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      prevArrow: `<button type="button" class="absolute left-[-2%] scale-x-[-1] top-1/2 translate-y-[-50%] slick-prev">
                      <svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 6L15 12L9 18" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </button>`,
      nextArrow: `<button type="button" class="absolute right-[-3%] top-1/2 translate-y-[-50%] slick-next">
                    <svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M9 6L15 12L9 18" stroke="#bdbdbd" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>`
    });

    var wBorder = document.getElementById("spin-border");
    var toggleBorder = false;

    // setInterval(function () {
    //   if (toggleBorder) {
    //     wBorder.setAttribute("src", "images/spin-border-1.png")
    //     toggleBorder = !toggleBorder;
    //   } else {
    //     wBorder.setAttribute("src", "images/spin-border-2.png");
    //     toggleBorder = !toggleBorder;
    //   }
    // }, 500);

    viewIdentifier();

    window.addEventListener('scroll', function () {
      viewIdentifier();
    });

  });

  function viewIdentifier() {
    let frame = document.getElementById('jackpot-frame');
    let view = frame.getBoundingClientRect().top;
    if (view <= 850) {
      if (!isFrameCountDone) {
        startFrameCount();
      }
      isFrameCountDone = true;
    }
  }

  function startFrameCount() {
    const countingDivs = document.querySelectorAll('.counting');

    countingDivs.forEach(div => {
      const targetValue = parseFloat(div.dataset.value);
      countToValue(div, targetValue);
    });
  }

  function goToStartSpin() {
    var stage = document.getElementById("spin-border");
    stage.scrollIntoView({
      behavior: "smooth"
    });
  }

  function startSpin(self) {
    const wheel = document.getElementById("wheel");
    if (!winState) {
      if (!wheel.classList.contains("spinning-failed")) {
        wheel.classList.add('spinning-failed');
      }
    } else {
      if (!wheel.classList.contains("spinning")) {
        wheel.classList.remove('spinning-failed');
        wheel.classList.add('spinning');
      }
    }

    var spinWheelBtn = document.getElementById("spin-wheel-btn");
    spinWheelBtn.classList.remove("zoom2")
    //pressed animation
    self.classList.add("animate__pulse");
    self.classList.add("is-disabled");

    if (winState) {
      $("#sorry-modal").modal("hide");
    }

    //
    setTimeout(function () {
      if (!winState) {
        $("#sorry-modal").modal("show");
        winState = true;
      } else {
        $("#winner-modal").modal("show");
        countdown(10); // Set 30 milliseconds
      }

    }, 4500);
  }


  function countToValue(div, targetValue) {
    const duration = 3000; // Animation duration in milliseconds
    const fps = 60; // Frames per second
    const frameDuration = 1000 / fps;
    const totalFrames = Math.round(duration / frameDuration);
    const valueIncrement = targetValue / totalFrames;

    let currentFrame = 0;
    let currentValue = 0;

    const updateValue = () => {
      div.textContent = currentValue.toLocaleString('en-US', {
        maximumFractionDigits: 2 // Limit decimal places to 2
      });

      if (currentFrame < totalFrames) {
        currentFrame++;
        currentValue += valueIncrement;
        requestAnimationFrame(updateValue);
      } else {
        targetValue = targetValue.toLocaleString('en-US', {
          maximumFractionDigits: 2 // Limit decimal places to 2
        });

        div.textContent = targetValue + '.00';

        let frame = document.getElementById('jackpot-frame');
        frame.setAttribute("src", "images/jackpot-frame.png");

        isFrameCountDone = true;
      }
    };

    updateValue();
  }

  let timerValue = 386091.23; // Initial timer value
  let timerInterval;

  function startTimer() {
    var topText = document.getElementById("top-text-win");
    topText.classList.remove("hidden");
    timerInterval = setInterval(updateTimer, 10); // Update timer every 10 milliseconds (for 2 decimal places)
  }

  function stopTimer() {
    clearInterval(timerInterval); // Stop the timer
  }

  function updateTimer() {
    timerValue += 0.01; // Increase timer value by 0.01 (represents 1/100th of a second)
    displayTimer();
  }

  function displayTimer() {
    const formattedTimer = timerValue.toLocaleString();
    const jackpot = document.getElementById("jackpot");
    jackpot.innerHTML = formattedTimer;
  }

  // setTimeout(stopTimer, 5000);

  // Countdown function
  function countdown(minutes) {
    var seconds = 60;
    var mins = minutes

    function tick() {
      var counter = document.getElementById("counter");
      var current_minutes = mins - 1
      seconds--;
      counter.innerHTML = current_minutes.toString() + ":" + (seconds < 10 ? "0" : "") + String(seconds);
      if (seconds > 0) {
        setTimeout(tick, 1000);
      } else {
        if (mins > 1) {
          countdown(mins - 1);
        }
      }
    }
    tick();
  }


  function addItemAlert() {
    var winners = [
      "images/win1.png",
      "images/win2.png",
      "images/win3.png",
      "images/win4.png",
      "images/win5.png",
      "images/win6.png",
      "images/win7.png",
      "images/win8.png",
      "images/win9.png",
      "images/win10.png",
    ];

    let counter = 0;
    setInterval(function () {
      $("#AlertBoxContainer").empty();
      $("#AlertBoxContainer").append(`<img class="alertImg animate__animated animate__fadeInUp" src="${winners[counter]}">`);

      setTimeout(function () {
        $(".alertImg").removeClass("animate_fadeInUp").addClass("animate__shakeY ");
      }, 1200);
      counter++;
      if (counter >= 4) {
        counter = 0;
      }
    }, 5500);
  }

  addItemAlert();

  let value = 8888886;
  let count_up = 0;
  const countdownElement = document.getElementById("result");

  function restartInterval() {
    setTimeout(() => {
      intervalID = setInterval(countdownInterval, 50);
    }, 5000);
  }

  function countdownInterval() {
    value++;
    count_up++;
    countdownElement.innerHTML = value.toLocaleString('en-US');

    if (count_up === 500) {
      count_up = 0;
      clearInterval(intervalID);
      restartInterval();
    }
  }

  let intervalID = setInterval(countdownInterval, 50);

  countdown(10); // Set 10 minutes

  // Countdown function
  function countdown(minutes) {
    let seconds = 60;
    let mins = minutes;

    function tick() {
      const counter = document.getElementById("counter");
      const current_minutes = mins - 1;
      seconds--;
      counter.innerHTML = `${current_minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
      if (seconds > 0) {
        setTimeout(tick, 1000);
      } else if (mins > 1) {
        countdown(mins - 1);
      }
    }
    tick();
  }
</script>
</body>

</html>